<!DOCTYPE html>
<html>
<head>
  <title>Image Prediction</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <style>
    /* Basic styles (same as before) */
  </style>
</head>
<body>
  <h1>Image Prediction</h1>

  <form id="uploadForm" method="POST" enctype="multipart/form-data">
    <input type="file" name="image" id="imageFile" accept="image/*"><br>
    <button type="submit">Upload Image</button>
    <input type="hidden" id="predictionUrl" value="http://your_backend_url/predict">  </form>

  <div id="prediction"></div>

  <script>
    $('#uploadForm').submit(function(event) {
      event.preventDefault();

      const formData = new FormData(this);
      const predictionUrl = $('#predictionUrl').val();

      $.ajax({
        url: predictionUrl,
        type: 'POST',
        data: formData,
        cache: false,
        contentType: false,
        processData: false,
        success: function(data) {
          if (data.error) {
            $('#prediction').text(data.error);
          } else {
            $('#prediction').text('Predicted Class: ' + data.prediction);
          }
        },
        error: function(jqXHR, textStatus, errorThrown) {
          console.error("Error:", textStatus, errorThrown);
          $('#prediction').text('An error occurred. Please try again.');
        }
      });
    });
  </script>
</body>
</html>
